<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        function wBtn(){
            let a = document.getElementById('name').value;
            let b = parseInt(document.getElementById('height').value);
            let c = parseInt(document.getElementById('weight').value);
            let hong =new checkweight(a,b,c);
            let hong2 =  hong.getResult();
            //hon2[0], hong[1]
            let str3 = hong.getInfo()+hong2[0];
            if(hong2[1]==-1){
                document.getElementById('txt').setAttribute('class','on');
            }else{
                document.getElementById('txt').setAttribute('class','off');

            }
            document.getElementById('txt').innerHTML=str3;
//            document.write(str3);
        }
        function checkweight(name,height,weight){
            this.userName =name;
            this.userHeight = Number(height);
            this.userWeight = Number(weight);
            this.minWeight=0;
            this.maxWeight=0;

            // 익명함수의 함수선언
            this.getInfo = function(){
                let str=""
                str += '이름 : '+ this.userName+',';
                str += '키 : '+ this.userHeight+',';
                str += '몸무게 : '+ this.userWeight+'<br>';
            
                return str;
            }

            this.getResult = function(){
                this.minWeight = (this.userHeight-100)*0.9-5;
                this.maxWeight = (this.userHeight-100)*0.9+5;
                let str2 ='';
                let flag =0;
                if(this.userWeight <= this.minWeight){
                    str2 +='몸무게 미달입니다.<br>'
                    flag=-1
                }else if(this.userWeight>=this.maxWeight){
                    str2 +='몸무게 비만입니다.<br>'
                    flag=-1
                }else{
                    str2 +='몸무게 정상입니다.<br>'
                    flag=1
                }
                return [str2,flag]
            }
        }
    </script>
    <style>
        div{font-size: 20px;}
        .on{color:red; font-weight: 600;}
        .off{color: blue;}
    </style>
</head>
<body>
    <form>
        <label>이름</label>
        <input type="text" name="name" id="name"><br>
        <label>키</label>
        <input type="text" name="height" id="height"><br>
        <label>몸무게</label>
        <input type="text" name="weight" id="weight"><br>
    </form>
    <button onclick="wBtn()">비만확인버튼</button>
    <br>
    <div id="txt" class="on"></div>
    <div id="txt" class="off"></div>
</body>
</html>